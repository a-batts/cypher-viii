{"version":3,"file":"IndexController.js","sourceRoot":"src/","sources":["controllers/pages/IndexController.ts"],"names":[],"mappings":";;;;AAAA,iCAA8C;AAC9C,2DAAmD;AACnD,yDAA0C;AAE1C,yCAAkD;AAIlD,IAAa,eAAe,GAA5B,MAAa,eAAe;IAElB,OAAO,CAAoB;IAKnC,GAAG,CAAoC,QAAgB,EAAwB,IAAY;QACzF,MAAM,OAAO,GAAG,GAAG,QAAQ,IAAI,MAAM,MAAM,IAAI,EAAE,CAAC;QAElD,OAAO;YACL,QAAQ,EAAE,OAAO;YACjB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9B,OAAO;oBACL,GAAG,EAAE,OAAO,GAAG,IAAI,CAAC,IAAI;oBACxB,GAAG,IAAI;iBACR,CAAC;YACJ,CAAC,CAAC;SACH,CAAC;IACJ,CAAC;CACF,CAAA;AAlBS;IADP,IAAA,aAAQ,EAAC,SAAS,CAAC;;gDACe;AAKnC;IAHC,IAAA,YAAG,EAAC,GAAG,CAAC;IACR,IAAA,qBAAI,EAAC,aAAa,CAAC;IACnB,CAAC,IAAA,gBAAO,EAAC,GAAG,EAAE,MAAM,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IAC3C,mBAAA,IAAA,8BAAY,EAAC,mBAAmB,CAAC,CAAA;IAAoB,mBAAA,IAAA,8BAAY,EAAC,MAAM,CAAC,CAAA;;;;0CAY7E;AAnBU,eAAe;IAF3B,IAAA,eAAM,GAAE;IACR,IAAA,eAAU,EAAC,GAAG,CAAC;GACH,eAAe,CAoB3B;AApBY,0CAAe","sourcesContent":["import {Constant, Controller} from \"@tsed/di\";\r\nimport {HeaderParams} from \"@tsed/platform-params\";\r\nimport {View} from \"@tsed/platform-views\";\r\nimport {SwaggerSettings} from \"@tsed/swagger\";\r\nimport {Hidden, Get, Returns} from \"@tsed/schema\";\r\n\r\n@Hidden()\r\n@Controller(\"/\")\r\nexport class IndexController {\r\n  @Constant(\"swagger\")\r\n  private swagger: SwaggerSettings[];\r\n\r\n  @Get(\"/\")\r\n  @View(\"swagger.ejs\")\r\n  @(Returns(200, String).ContentType(\"text/html\"))\r\n  get(@HeaderParams(\"x-forwarded-proto\") protocol: string, @HeaderParams(\"host\") host: string) {\r\n    const hostUrl = `${protocol || \"http\"}://${host}`;\r\n\r\n    return {\r\n      BASE_URL: hostUrl,\r\n      docs: this.swagger.map((conf) => {\r\n        return {\r\n          url: hostUrl + conf.path,\r\n          ...conf\r\n        };\r\n      })\r\n    };\r\n  }\r\n}\r\n"]}